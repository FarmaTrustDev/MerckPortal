@using System.Linq;
@model User
@{
	ViewData["Title"] = "Edit Users";
}
@using (Html.BeginForm("EditUser", "User", FormMethod.Post))
{
<div class="container m-t-80">
		<h2 class="kt-portlet__head-title m-l-20">Edit User</h2>
		<div class="grey-card container p-sm-3">
			<div class="white-card row m-2 pills-container">
				<div class="kt-container   kt-container--fluid  kt-grid__item kt-grid__item--fluid p-0">
					<div class="row user-form-padding">
						<div class="col-lg-12">
							<div class="kt-portlet">
								<form class="kt-form kt-form--fit kt-form--label-right m-t-30">

					<div class="form-group row">
										<div class="form-group col-12 col-md-6 p-10">
											<label asp-for="UserName" class="control-label"></label>
											<input asp-for="UserName" class="form-control" value="@ViewBag.User.UserName" readonly />
											<input asp-for="GlobalId" class="form-control" value="@ViewBag.User.GlobalId" hidden />
											<span asp-validation-for="UserName" class="text-danger"></span>
										</div>
										<div class="form-group col-12 col-md-6 p-10">
											<label asp-for="Email" class="control-label"></label>
											<input asp-for="Email" class="form-control" value="@ViewBag.User.Email" readonly />
											<span asp-validation-for="Email" class="text-danger"></span>
										</div>
					</div>
					<div class="form-group row">
										<div class="form-group col-12 col-md-6 p-10">
						<label asp-for="FirstName" class="control-label"></label>
						<input asp-for="FirstName" class="form-control" value="@ViewBag.User.FirstName" />
						<span asp-validation-for="FirstName" class="text-danger"></span>
										</div>
										<div class="form-group col-12 col-md-6 p-10">
											<label asp-for="LastName" class="control-label"></label>
											<input asp-for="LastName" class="form-control" value="@ViewBag.User.LastName" />
											<span asp-validation-for="LastName" class="text-danger"></span>
										</div>
					</div>
					
					
					<div class="form-group">
						<label for="Roles">Select Role(s) for User:</label>
						@foreach (var role in ViewBag.Roles)
						{
							var isChecked = ViewBag.User.Roles.Exists((Predicate<Roles>)(r => r.Name == role.Name));
							<div class="form-check">
								<input class="form-check-input" type="checkbox" id="roles_@role.Id" name="UserRoles" value="@role.Id" @if (isChecked)
								{
									<text>checked</text>
								} />
							

								<label class="form-check-label" for="roles_@role.Id">
									@role.Name
								</label>
							</div>

						}
					</div>
					<button type="submit" class="btn p-15 btn-lg btn-primary pb-25 m-t-20">Create User</button>
				</form>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
}